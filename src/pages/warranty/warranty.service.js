"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", { value: true });
const moment = require("moment-mini-ts");
const app = getApp();
var ApprovalStatus;
(function (ApprovalStatus) {
    ApprovalStatus["drafting"] = "drafting";
    ApprovalStatus["pending"] = "pending";
    ApprovalStatus["approved"] = "approved";
    ApprovalStatus["rejected"] = "rejected";
})(ApprovalStatus = exports.ApprovalStatus || (exports.ApprovalStatus = {}));
class WarrantyService {
    constructor() {
        this.db = wx.cloud.database();
        console.log("constructing WarrantyService");
    }
    loadWarrantyItems() {
        return __awaiter(this, void 0, void 0, function* () {
            let items = yield this.db.collection("warranty").where({
                _openid: app.globalData.openid
            }).field({
                _id: true,
                thumbnail: true,
                plateNumber: true,
                endDate: true,
                approvalStatus: true
            }).get();
            let ret = [];
            items.data.forEach(item => {
                ret.push({
                    _id: item._id.toString(),
                    thumbnail: item["thumbnail"],
                    plateNumber: item["plateNumber"],
                    endDate: item["endDate"] ? new Date(item["endDate"]) : undefined,
                    approvalStatus: item["approvalStatus"]
                });
            });
            return ret;
        });
    }
    getWarrantyItemDetail(id) {
        return __awaiter(this, void 0, void 0, function* () {
            let ret = yield this.db.collection("warranty").doc(id).get();
            let detail = {
                _id: ret.data._id,
                thumbnail: ret.data["thumbnail"],
                plateNumber: ret.data["plateNumber"],
                plateImageFileID: ret.data["plateImageFileID"],
                shopAddress: ret.data["shopAddress"],
                shopImageFileID: ret.data["shopImageFileID"],
                shopName: ret.data["shopName"],
                tyreModelImageFileID: ret.data["tyreModelImageFileID"],
                tyreInstallationImageFileID: ret.data["tyreInstallationImageFileID"],
                datePurchased: ret.data["datePurchased"] ? new Date(ret.data["datePurchased"]) : new Date(),
                endDate: ret.data["endDate"] ? new Date(ret.data["endDate"]) : new Date((new Date()).getTime() + 365 * 24 * 60 * 60 * 1000),
                approvalStatus: ret.data["approvalStatus"],
                dateCreated: ret.data["dateCreated"] ? new Date(ret.data["dateCreated"]) : new Date(),
                lastUpdated: ret.data["lastUpdated"] ? new Date(ret.data["lastUpdated"]) : new Date()
            };
            let shopLocation = ret.data["shopLocation"];
            if (shopLocation != null && typeof shopLocation !== 'undefined' && shopLocation.coordinates) {
                detail["shopLocation"] = {
                    longtitude: ret.data["shopLocation"].coordinates[0].toString(),
                    latitude: ret.data["shopLocation"].coordinates[1].toString(),
                };
            }
            return detail;
        });
    }
    createWarrantyItem() {
        return __awaiter(this, void 0, void 0, function* () {
            let ret = yield this.db.collection("warranty").add({
                data: {
                    approvalStatus: ApprovalStatus.drafting,
                    dateCreated: this.db.serverDate(),
                    lastUpdated: this.db.serverDate(),
                }
            });
            return ret._id;
        });
    }
    updateWarrantyItem(id, update, location) {
        return __awaiter(this, void 0, void 0, function* () {
            let shopLocation = location ? Object.assign({ type: 'Point' }, location) : undefined;
            let o = Object.entries(update).filter(([name, value]) => !!value);
            if (o.length == 0 && typeof shopLocation === 'undefined') {
                return;
            }
            update.lastUpdated = this.db.serverDate();
            let ret = yield this.db.collection("warranty").doc(id).update({
                data: Object.assign({}, update, { shopLocation: shopLocation })
            });
        });
    }
    removeWarrantyItem(id) {
        return __awaiter(this, void 0, void 0, function* () {
            let ret = yield this.db.collection("warranty").doc(id).field({
                _id: true,
                plateImageFileID: true,
                tyreModelImageFileID: true,
                tyreInstallationImageFileID: true,
                shopImageFileID: true
            }).get();
            let fileIDs = [ret.data["plateImageFileID"], ret.data["shopImageFileID"], ret.data["tyreModelImageFileID"], ret.data["tyreInstallationImageFildID"]];
            fileIDs = fileIDs.filter(x => !!x);
            let t1 = wx.cloud.deleteFile({
                fileList: fileIDs
            });
            let t2 = this.db.collection("warranty").doc(id).remove();
            yield Promise.all([t1, t2]);
        });
    }
    samplingDatabase() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log("Sampling Data");
            let items = yield this.loadWarrantyItems();
            if (items.length >= 3) {
                return;
            }
            for (let i = 0; i < 3; i++) {
                let startDate = (moment().subtract(Math.round(Math.random() * 100), "day"));
                let endDate = (moment().add(Math.round(Math.random() * 100), "day"));
                let ret = yield this.db.collection("warranty").add({
                    data: {
                        thumbnail: defaultThumbnail,
                        plateNumber: "ç²¤A DE" + Math.round((Math.random() * 1000)).toString().padStart(3, '0'),
                        startDate: startDate.toDate(),
                        endDate: endDate.toDate()
                    }
                });
                console.log(ret);
            }
        });
    }
    uploadPlateImage(warrantyID, localFilePath) {
        return __awaiter(this, void 0, void 0, function* () {
            let manager = wx.getFileSystemManager();
            let fileData = yield new Promise((resolve, reject) => {
                manager.readFile({
                    filePath: localFilePath,
                    encoding: 'base64',
                    success: res => {
                        resolve(res.data);
                    },
                    fail: err => {
                        reject(err);
                    }
                });
            });
            let fileExt = localFilePath.substr(localFilePath.lastIndexOf('.'));
            try {
                let res = yield wx.cloud.callFunction({
                    name: 'uploadscanplate',
                    data: {
                        fileData: fileData,
                        fileExt: fileExt,
                        warrantyID: warrantyID
                    }
                });
                console.log(res);
                if (res.result.error_msg) {
                    throw new Error(res.result.error_msg);
                }
                return {
                    fileID: res.result.fileID,
                    plateNumber: res.result.number,
                    probability: res.result.probability
                };
            }
            catch (err) {
                console.log(err);
                throw err;
            }
        });
    }
    getPlateNumber(fileID) {
        return __awaiter(this, void 0, void 0, function* () {
            let res = yield wx.cloud.callFunction({
                name: 'scanPlate',
                data: {
                    fileID: fileID
                }
            });
            console.log(res);
            if (res.result.error_msg) {
                throw new Error(res.result.error_msg);
            }
            return {
                fileID: fileID,
                plateNumber: res.result.number,
                probability: res.result.probability
            };
        });
    }
    uploadImage(warrantyID, localFilePath, name) {
        return __awaiter(this, void 0, void 0, function* () {
            let i = localFilePath.lastIndexOf(".");
            let ext = ".jpg";
            if (i != -1) {
                ext = localFilePath.substr(i);
            }
            let ret = yield wx.cloud.uploadFile({
                cloudPath: `warranty/${warrantyID}/${name}${ext}`,
                filePath: localFilePath
            });
            yield this.db.collection("warranty").doc(warrantyID).update({
                data: {
                    [name + "ImageFileID"]: ret.fileID
                }
            });
            return ret.fileID;
        });
    }
}
exports.WarrantyService = WarrantyService;
const defaultThumbnail = "data:image/png;base64,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";
exports.warrantyService = new WarrantyService();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2FycmFudHkuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIndhcnJhbnR5LnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUNBLHlDQUF5QztBQUV6QyxNQUFNLEdBQUcsR0FBRyxNQUFNLEVBQVUsQ0FBQztBQUU3QixJQUFZLGNBS1g7QUFMRCxXQUFZLGNBQWM7SUFDdEIsdUNBQXFCLENBQUE7SUFDckIscUNBQW1CLENBQUE7SUFDbkIsdUNBQXFCLENBQUE7SUFDckIsdUNBQXFCLENBQUE7QUFDekIsQ0FBQyxFQUxXLGNBQWMsR0FBZCxzQkFBYyxLQUFkLHNCQUFjLFFBS3pCO0FBd0NELE1BQWEsZUFBZTtJQUN4QjtRQUlRLE9BQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBSDdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQThCLENBQUMsQ0FBQTtJQUMvQyxDQUFDO0lBSUssaUJBQWlCOztZQUVuQixJQUFJLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQztnQkFDbkQsT0FBTyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTTthQUNqQyxDQUFDLENBQUMsS0FBSyxDQUFDO2dCQUNMLEdBQUcsRUFBRSxJQUFJO2dCQUNULFNBQVMsRUFBRSxJQUFJO2dCQUNmLFdBQVcsRUFBRSxJQUFJO2dCQUNqQixPQUFPLEVBQUUsSUFBSTtnQkFDYixjQUFjLEVBQUUsSUFBSTthQUN2QixDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDVCxJQUFJLEdBQUcsR0FBbUIsRUFBRSxDQUFDO1lBQzdCLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUN0QixHQUFHLENBQUMsSUFBSSxDQUFDO29CQUNMLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBSSxDQUFDLFFBQVEs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LEdBQUcsR0FBRyxNQUFNLENBQUM7WUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUU7Z0JBQ1QsR0FBRyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDakM7WUFDRCxJQUFJLEdBQUcsR0FBRyxNQUFNLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDO2dCQUNoQyxTQUFTLEVBQUUsWUFBWSxVQUFVLElBQUksSUFBSSxHQUFHLEdBQUcsRUFBRTtnQkFDakQsUUFBUSxFQUFFLGFBQWE7YUFDMUIsQ0FBQyxDQUFDO1lBRUgsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDO2dCQUN4RCxJQUFJLEVBQUU7b0JBQ0YsQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU07aUJBQ3JDO2FBQ0osQ0FBQyxDQUFDO1lBRUgsT0FBTyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ3RCLENBQUM7S0FBQTtDQUNKO0FBaE9ELDBDQWdPQztBQUdELE1BQU0sZ0JBQWdCLEdBQUcsNDlLQUE0OUssQ0FBQTtBQUd4K0ssUUFBQSxlQUFlLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElNeUFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gXCJtb21lbnQtbWluaS10c1wiO1xyXG5cclxuY29uc3QgYXBwID0gZ2V0QXBwPElNeUFwcD4oKTtcclxuXHJcbmV4cG9ydCBlbnVtIEFwcHJvdmFsU3RhdHVzIHtcclxuICAgIGRyYWZ0aW5nID0gXCJkcmFmdGluZ1wiLFxyXG4gICAgcGVuZGluZyA9IFwicGVuZGluZ1wiLFxyXG4gICAgYXBwcm92ZWQgPSBcImFwcHJvdmVkXCIsXHJcbiAgICByZWplY3RlZCA9IFwicmVqZWN0ZWRcIlxyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXYXJyYW50eUl0ZW0ge1xyXG4gICAgX2lkOiBzdHJpbmc7XHJcbiAgICB0aHVtYm5haWw6IHN0cmluZztcclxuICAgIHBsYXRlTnVtYmVyOiBzdHJpbmc7XHJcbiAgICBlbmREYXRlPzogRGF0ZSxcclxuICAgIGFwcHJvdmFsU3RhdHVzOiBBcHByb3ZhbFN0YXR1cztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBXYXJyYW50eUl0ZW1EZXRhaWwge1xyXG4gICAgX2lkOiBzdHJpbmc7XHJcbiAgICB0aHVtYm5haWw6IHN0cmluZztcclxuICAgIHBsYXRlTnVtYmVyPzogc3RyaW5nO1xyXG4gICAgcGxhdGVJbWFnZUZpbGVJRD86IHN0cmluZztcclxuICAgIHNob3BJbWFnZUZpbGVJRD86IHN0cmluZztcclxuICAgIHNob3BOYW1lPzogc3RyaW5nO1xyXG4gICAgc2hvcEFkZHJlc3M/OiBzdHJpbmc7XHJcbiAgICBzaG9wTG9jYXRpb24/OiB7XHJcbiAgICAgICAgbGF0aXR1ZGU6IG51bWJlcjtcclxuICAgICAgICBsb25ndGl0dWRlOiBudW1iZXI7XHJcbiAgICB9XHJcbiAgICB0eXJlTW9kZWxJbWFnZUZpbGVJRDogc3RyaW5nO1xyXG4gICAgdHlyZUluc3RhbGxhdGlvbkltYWdlRmlsZUlEOiBzdHJpbmc7XHJcbiAgICBkYXRlUHVyY2hhc2VkPzogRGF0ZTtcclxuICAgIGVuZERhdGU/OiBEYXRlO1xyXG4gICAgYXBwcm92YWxTdGF0dXM6IEFwcHJvdmFsU3RhdHVzO1xyXG4gICAgZGF0ZUNyZWF0ZWQ6IERhdGU7XHJcbiAgICBsYXN0VXBkYXRlZD86IERhdGUgfCBEQi5TZXJ2ZXJEYXRlO1xyXG4gICAgZmVlZGJhY2s/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXBsb2FkUGxhdGVJbWFnZVJlc3VsdCB7XHJcbiAgICBmaWxlSUQ6IHN0cmluZztcclxuICAgIHBsYXRlTnVtYmVyOiBzdHJpbmc7XHJcbiAgICBwcm9iYWJpbGl0eTogbnVtYmVyO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFdhcnJhbnR5U2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNvbnN0cnVjdGluZyBXYXJyYW50eVNlcnZpY2VcIilcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRiID0gd3guY2xvdWQuZGF0YWJhc2UoKTtcclxuXHJcbiAgICBhc3luYyBsb2FkV2FycmFudHlJdGVtcygpIHtcclxuXHJcbiAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgdGhpcy5kYi5jb2xsZWN0aW9uKFwid2FycmFudHlcIikud2hlcmUoe1xyXG4gICAgICAgICAgICBfb3BlbmlkOiBhcHAuZ2xvYmFsRGF0YS5vcGVuaWRcclxuICAgICAgICB9KS5maWVsZCh7XHJcbiAgICAgICAgICAgIF9pZDogdHJ1ZSxcclxuICAgICAgICAgICAgdGh1bWJuYWlsOiB0cnVlLFxyXG4gICAgICAgICAgICBwbGF0ZU51bWJlcjogdHJ1ZSxcclxuICAgICAgICAgICAgZW5kRGF0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXBwcm92YWxTdGF0dXM6IHRydWVcclxuICAgICAgICB9KS5nZXQoKTtcclxuICAgICAgICBsZXQgcmV0OiBXYXJyYW50eUl0ZW1bXSA9IFtdO1xyXG4gICAgICAgIGl0ZW1zLmRhdGEuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgcmV0LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgX2lkOiBpdGVtLl9pZCEudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIHRodW1ibmFpbDogaXRlbVtcInRodW1ibmFpbFwiXSxcclxuICAgICAgICAgICAgICAgIHBsYXRlTnVtYmVyOiBpdGVtW1wicGxhdGVOdW1iZXJcIl0sXHJcbiAgICAgICAgICAgICAgICBlbmREYXRlOiBpdGVtW1wiZW5kRGF0ZVwiXSA/IG5ldyBEYXRlKGl0ZW1bXCJlbmREYXRlXCJdKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgIGFwcHJvdmFsU3RhdHVzOiBpdGVtW1wiYXBwcm92YWxTdGF0dXNcIl1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldFdhcnJhbnR5SXRlbURldGFpbChpZDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IHJldCA9IGF3YWl0IHRoaXMuZGIuY29sbGVjdGlvbihcIndhcnJhbnR5XCIpLmRvYyhpZCkuZ2V0KCk7XHJcblxyXG4gICAgICAgIGxldCBkZXRhaWw6IFdhcnJhbnR5SXRlbURldGFpbCA9IHtcclxuICAgICAgICAgICAgX2lkOiByZXQuZGF0YS5faWQgYXMgc3RyaW5nLFxyXG4gICAgICAgICAgICB0aHVtYm5haWw6IHJldC5kYXRhW1widGh1bWJuYWlsXCJdLFxyXG4gICAgICAgICAgICBwbGF0ZU51bWJlcjogcmV0LmRhdGFbXCJwbGF0ZU51bWJlclwiXSxcclxuICAgICAgICAgICAgcGxhdGVJbWFnZUZpbGVJRDogcmV0LmRhdGFbXCJwbGF0ZUltYWdlRmlsZUlEXCJdLFxyXG4gICAgICAgICAgICBzaG9wQWRkcmVzczogcmV0LmRhdGFbXCJzaG9wQWRkcmVzc1wiXSxcclxuICAgICAgICAgICAgc2hvcEltYWdlRmlsZUlEOiByZXQuZGF0YVtcInNob3BJbWFnZUZpbGVJRFwiXSxcclxuICAgICAgICAgICAgc2hvcE5hbWU6IHJldC5kYXRhW1wic2hvcE5hbWVcIl0sXHJcbiAgICAgICAgICAgIHR5cmVNb2RlbEltYWdlRmlsZUlEOiByZXQuZGF0YVtcInR5cmVNb2RlbEltYWdlRmlsZUlEXCJdLFxyXG4gICAgICAgICAgICB0eXJlSW5zdGFsbGF0aW9uSW1hZ2VGaWxlSUQ6IHJldC5kYXRhW1widHlyZUluc3RhbGxhdGlvbkltYWdlRmlsZUlEXCJdLFxyXG4gICAgICAgICAgICBkYXRlUHVyY2hhc2VkOiByZXQuZGF0YVtcImRhdGVQdXJjaGFzZWRcIl0gPyBuZXcgRGF0ZShyZXQuZGF0YVtcImRhdGVQdXJjaGFzZWRcIl0pIDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgZW5kRGF0ZTogcmV0LmRhdGFbXCJlbmREYXRlXCJdID8gbmV3IERhdGUocmV0LmRhdGFbXCJlbmREYXRlXCJdKSA6IG5ldyBEYXRlKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgKyAzNjUgKiAyNCAqIDYwICogNjAgKiAxMDAwKSxcclxuICAgICAgICAgICAgYXBwcm92YWxTdGF0dXM6IHJldC5kYXRhW1wiYXBwcm92YWxTdGF0dXNcIl0sXHJcbiAgICAgICAgICAgIGRhdGVDcmVhdGVkOiByZXQuZGF0YVtcImRhdGVDcmVhdGVkXCJdID8gbmV3IERhdGUocmV0LmRhdGFbXCJkYXRlQ3JlYXRlZFwiXSkgOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBsYXN0VXBkYXRlZDogcmV0LmRhdGFbXCJsYXN0VXBkYXRlZFwiXSA/IG5ldyBEYXRlKHJldC5kYXRhW1wibGFzdFVwZGF0ZWRcIl0pIDogbmV3IERhdGUoKVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBsZXQgc2hvcExvY2F0aW9uID0gcmV0LmRhdGFbXCJzaG9wTG9jYXRpb25cIl1cclxuICAgICAgICBpZiAoc2hvcExvY2F0aW9uICE9IG51bGwgJiYgdHlwZW9mIHNob3BMb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgc2hvcExvY2F0aW9uLmNvb3JkaW5hdGVzKSB7XHJcblxyXG4gICAgICAgICAgICBkZXRhaWxbXCJzaG9wTG9jYXRpb25cIl0gPSB7XHJcbiAgICAgICAgICAgICAgICBsb25ndGl0dWRlOiByZXQuZGF0YVtcInNob3BMb2NhdGlvblwiXS5jb29yZGluYXRlc1swXS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgbGF0aXR1ZGU6IHJldC5kYXRhW1wic2hvcExvY2F0aW9uXCJdLmNvb3JkaW5hdGVzWzFdLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkZXRhaWw7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY3JlYXRlV2FycmFudHlJdGVtKCkge1xyXG4gICAgICAgIGxldCByZXQgPSBhd2FpdCB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ3YXJyYW50eVwiKS5hZGQoe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ZhbFN0YXR1czogQXBwcm92YWxTdGF0dXMuZHJhZnRpbmcsXHJcbiAgICAgICAgICAgICAgICBkYXRlQ3JlYXRlZDogdGhpcy5kYi5zZXJ2ZXJEYXRlKCksXHJcbiAgICAgICAgICAgICAgICBsYXN0VXBkYXRlZDogdGhpcy5kYi5zZXJ2ZXJEYXRlKCksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmV0Ll9pZDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVXYXJyYW50eUl0ZW0oaWQ6IHN0cmluZywgdXBkYXRlOiBPcHRpb25hbDxPbWl0PFdhcnJhbnR5SXRlbURldGFpbCwgXCJzaG9wTG9jYXRpb25cIj4+LCBsb2NhdGlvbj86IHsgbGF0aXR1ZGU6IG51bWJlciwgbG9uZ3RpdHVkZTogbnVtYmVyIH0pIHtcclxuXHJcblxyXG4gICAgICAgIGxldCBzaG9wTG9jYXRpb24gPSBsb2NhdGlvbiA/IHtcclxuICAgICAgICAgICAgdHlwZTogJ1BvaW50JyxcclxuICAgICAgICAgICAgLi4ubG9jYXRpb25cclxuICAgICAgICB9IDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBsZXQgbyA9IE9iamVjdC5lbnRyaWVzKHVwZGF0ZSkuZmlsdGVyKChbbmFtZSwgdmFsdWVdKSA9PiAhIXZhbHVlKTtcclxuXHJcbiAgICAgICAgaWYgKG8ubGVuZ3RoID09IDAgJiYgdHlwZW9mIHNob3BMb2NhdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdXBkYXRlLmxhc3RVcGRhdGVkID0gdGhpcy5kYi5zZXJ2ZXJEYXRlKCk7XHJcblxyXG4gICAgICAgIGxldCByZXQgPSBhd2FpdCB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ3YXJyYW50eVwiKS5kb2MoaWQpLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIC4uLnVwZGF0ZSxcclxuICAgICAgICAgICAgICAgIHNob3BMb2NhdGlvbjogc2hvcExvY2F0aW9uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyByZW1vdmVXYXJyYW50eUl0ZW0oaWQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCByZXQgPSBhd2FpdCB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ3YXJyYW50eVwiKS5kb2MoaWQpLmZpZWxkKHtcclxuICAgICAgICAgICAgX2lkOiB0cnVlLFxyXG4gICAgICAgICAgICBwbGF0ZUltYWdlRmlsZUlEOiB0cnVlLFxyXG4gICAgICAgICAgICB0eXJlTW9kZWxJbWFnZUZpbGVJRDogdHJ1ZSxcclxuICAgICAgICAgICAgdHlyZUluc3RhbGxhdGlvbkltYWdlRmlsZUlEOiB0cnVlLFxyXG4gICAgICAgICAgICBzaG9wSW1hZ2VGaWxlSUQ6IHRydWVcclxuICAgICAgICB9KS5nZXQoKTtcclxuXHJcbiAgICAgICAgbGV0IGZpbGVJRHM6IHN0cmluZ1tdID0gW3JldC5kYXRhW1wicGxhdGVJbWFnZUZpbGVJRFwiXSwgcmV0LmRhdGFbXCJzaG9wSW1hZ2VGaWxlSURcIl0sIHJldC5kYXRhW1widHlyZU1vZGVsSW1hZ2VGaWxlSURcIl0sIHJldC5kYXRhW1widHlyZUluc3RhbGxhdGlvbkltYWdlRmlsZElEXCJdXTtcclxuICAgICAgICBmaWxlSURzID0gZmlsZUlEcy5maWx0ZXIoeCA9PiAhIXgpO1xyXG5cclxuICAgICAgICBsZXQgdDEgPSB3eC5jbG91ZC5kZWxldGVGaWxlKHtcclxuICAgICAgICAgICAgZmlsZUxpc3Q6IGZpbGVJRHNcclxuICAgICAgICB9KTtcclxuICAgICAgICBsZXQgdDIgPSB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ3YXJyYW50eVwiKS5kb2MoaWQpLnJlbW92ZSgpO1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFt0MSwgdDJdKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzYW1wbGluZ0RhdGFiYXNlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2FtcGxpbmcgRGF0YVwiKVxyXG4gICAgICAgIGxldCBpdGVtcyA9IGF3YWl0IHRoaXMubG9hZFdhcnJhbnR5SXRlbXMoKTtcclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID49IDMpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHN0YXJ0RGF0ZSA9IChtb21lbnQoKS5zdWJ0cmFjdChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDApLCBcImRheVwiKSk7XHJcbiAgICAgICAgICAgIGxldCBlbmREYXRlID0gKG1vbWVudCgpLmFkZChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDApLCBcImRheVwiKSk7XHJcbiAgICAgICAgICAgIGxldCByZXQgPSBhd2FpdCB0aGlzLmRiLmNvbGxlY3Rpb24oXCJ3YXJyYW50eVwiKS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbDogZGVmYXVsdFRodW1ibmFpbCxcclxuICAgICAgICAgICAgICAgICAgICBwbGF0ZU51bWJlcjogXCLnsqRBIERFXCIgKyBNYXRoLnJvdW5kKChNYXRoLnJhbmRvbSgpICogMTAwMCkpLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgJzAnKSxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZS50b0RhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICBlbmREYXRlOiBlbmREYXRlLnRvRGF0ZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmV0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwbG9hZFBsYXRlSW1hZ2Uod2FycmFudHlJRDogc3RyaW5nLCBsb2NhbEZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFVwbG9hZFBsYXRlSW1hZ2VSZXN1bHQ+IHtcclxuXHJcbiAgICAgICAgbGV0IG1hbmFnZXIgPSB3eC5nZXRGaWxlU3lzdGVtTWFuYWdlcigpO1xyXG5cclxuICAgICAgICBsZXQgZmlsZURhdGEgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIG1hbmFnZXIucmVhZEZpbGUoe1xyXG4gICAgICAgICAgICAgICAgZmlsZVBhdGg6IGxvY2FsRmlsZVBhdGgsXHJcbiAgICAgICAgICAgICAgICBlbmNvZGluZzogJ2Jhc2U2NCcsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWw6IGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBmaWxlRXh0ID0gbG9jYWxGaWxlUGF0aC5zdWJzdHIobG9jYWxGaWxlUGF0aC5sYXN0SW5kZXhPZignLicpKTtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHd4LmNsb3VkLmNhbGxGdW5jdGlvbih7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAndXBsb2Fkc2NhbnBsYXRlJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxlRGF0YTogZmlsZURhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZUV4dDogZmlsZUV4dCxcclxuICAgICAgICAgICAgICAgICAgICB3YXJyYW50eUlEOiB3YXJyYW50eUlEXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXMucmVzdWx0LmVycm9yX21zZykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlcy5yZXN1bHQuZXJyb3JfbXNnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGZpbGVJRDogcmVzLnJlc3VsdC5maWxlSUQsXHJcbiAgICAgICAgICAgICAgICBwbGF0ZU51bWJlcjogcmVzLnJlc3VsdC5udW1iZXIsXHJcbiAgICAgICAgICAgICAgICBwcm9iYWJpbGl0eTogcmVzLnJlc3VsdC5wcm9iYWJpbGl0eVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0UGxhdGVOdW1iZXIoZmlsZUlEOiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgcmVzID0gYXdhaXQgd3guY2xvdWQuY2FsbEZ1bmN0aW9uKHtcclxuICAgICAgICAgICAgbmFtZTogJ3NjYW5QbGF0ZScsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGZpbGVJRDogZmlsZUlEXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgIGlmIChyZXMucmVzdWx0LmVycm9yX21zZykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzLnJlc3VsdC5lcnJvcl9tc2cpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZmlsZUlEOiBmaWxlSUQsXHJcbiAgICAgICAgICAgIHBsYXRlTnVtYmVyOiByZXMucmVzdWx0Lm51bWJlcixcclxuICAgICAgICAgICAgcHJvYmFiaWxpdHk6IHJlcy5yZXN1bHQucHJvYmFiaWxpdHlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBsb2FkSW1hZ2Uod2FycmFudHlJRDogc3RyaW5nLCBsb2NhbEZpbGVQYXRoOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBpID0gbG9jYWxGaWxlUGF0aC5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgbGV0IGV4dCA9IFwiLmpwZ1wiO1xyXG4gICAgICAgIGlmIChpICE9IC0xKSB7XHJcbiAgICAgICAgICAgIGV4dCA9IGxvY2FsRmlsZVBhdGguc3Vic3RyKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcmV0ID0gYXdhaXQgd3guY2xvdWQudXBsb2FkRmlsZSh7XHJcbiAgICAgICAgICAgIGNsb3VkUGF0aDogYHdhcnJhbnR5LyR7d2FycmFudHlJRH0vJHtuYW1lfSR7ZXh0fWAsXHJcbiAgICAgICAgICAgIGZpbGVQYXRoOiBsb2NhbEZpbGVQYXRoXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuZGIuY29sbGVjdGlvbihcIndhcnJhbnR5XCIpLmRvYyh3YXJyYW50eUlEKS51cGRhdGUoe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBbbmFtZSArIFwiSW1hZ2VGaWxlSURcIl06IHJldC5maWxlSURcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmV0LmZpbGVJRDtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmNvbnN0IGRlZmF1bHRUaHVtYm5haWwgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1FBQUFCa0NBTUFBQUJIUEdWbUFBQUJTMmxVV0hSWVRVdzZZMjl0TG1Ga2IySmxMbmh0Y0FBQUFBQUFQRDk0Y0dGamEyVjBJR0psWjJsdVBTTHZ1NzhpSUdsa1BTSlhOVTB3VFhCRFpXaHBTSHB5WlZONlRsUmplbXRqT1dRaVB6NEtQSGc2ZUcxd2JXVjBZU0I0Yld4dWN6cDRQU0poWkc5aVpUcHVjenB0WlhSaEx5SWdlRHA0YlhCMGF6MGlRV1J2WW1VZ1dFMVFJRU52Y21VZ05TNDJMV014TkRJZ056a3VNVFl3T1RJMExDQXlNREUzTHpBM0x6RXpMVEF4T2pBMk9qTTVJQ0FnSUNBZ0lDQWlQZ29nUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0S0lDQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJaTgrQ2lBOEwzSmtaanBTUkVZK0Nqd3ZlRHA0YlhCdFpYUmhQZ284UDNod1lXTnJaWFFnWlc1a1BTSnlJajgrbmh4Zzd3QUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUJjMUpIUWdDdXpoenBBQUFEQUZCTVZFVUFBQUFkSFIxL2dZQ2FtNXZ4OGZIcDZ1bnQ3ZTJGaFlYdzdlN3U3dTZvcWFtTmpvM0V4TVRJeU1qYTJ0cTF0YldRa0pEcTZ1cDlmWDJXbDVaeGNYS2VucDY0dUxoMmQzWWxKU1ZUVTFOaVkyTEJ2THljbkp5dXI2NkxpNHRpWTJQUTBkQmlZMk9UazVQT3k4eno4L1BXMU5TZm9KK3hzckc4dmIxemMzTjhmSHdrSkNRSUNBaHdjbkVjSEJ3dExTMlBqNDhCQVFFOVBUMkppWW5hMjlwVlZsVXZMeS9zNit6UzB0TC8vLzkzZVhoZVhsNmRuWjE2ZTNxaG82SS9RVUMrd0wrWm1abXZyNis5dmIxUVVWRkFRRUJmWDErSWlJaEpTVW1UazVNcEtTbVdscFZGUjBaUlVWRmVYbDd4OGZHenRMVHg4ZkhwNmVuYzNkM0R4TU8zdDdkWVdGaGdZR0RkM2Qya3BLU2VuNTV3Y0hIVTFOUkRSVVhLeXNwRFEwUGUwdE40ZUhtUWtKQzh2THkydWJoK2ZuNEFBQUF5TXpQLy8vOE9EdzlCUTBNZklTQVJFaEVXRmhZeE1qRk1UVXhGUmtZaElpRnhjM00zT0RoVlYxWWpKQ1F0TGkwK1B6NGVIeDQvUUVCUFVFOWJYRndaR2hrTURBeEFRa0UxTlRWUlVsSTRPamtVRkJSZ1ltRTFOemRaV2xsZllHQXJMQ3lCZ29JWEdCZ2lJeU5LUzBzbEpTVk5UMDVEUmtad2NuSnViMjlrWldZSUNBaERSRVJtYUdjNk9qdGpaR09ycmF3Ykd4dDNlWGxUVlZSSVNVa0tDZ3A1ZTNvN1BEeWxwNllwS1NtRWhvV1BrWkNKaTRvbktDYzhQVDFzYlcyWm1wb0ZCUVY4Zlh3dUx5OTBkWFJJUzBwL2dIOVNVMU1EQXdNcUt5c2tKaVpkWDE2RGhJU1RsWlFiSGgxb2FXbUxqbzFHUjBkV1dGa3dNREN4c3JGcWEydVNrcEk1T1RsSFNFaUdoNGZFeE1Rek5UVzR1cm1qcGFTb3Fxbkd5TWRiWFY2OHZiM1EwdEU4UHo3TjBOQ0tqSXpiM055SWlZbTJ0N2QxZG5hMHRyV1hsNWV2c2JFZEhSMWxaMmFlb0o5T1VWTEp5c2w2ZllEbjUrZlgyZGlnb3FMVTF0YVVsNXFRa3BiUzA5TjlnSUtOam83SnpNek56YzNqNCtPYm5aMjl2Nyt5dExTR2lJdU1qcEpyYm5DL3c4T2NuNkhmNE4raXBhbkJ3Y0c2dXJsemQzaWxxS3dCQVFIczdleUJoWWJ3OFBEMjl2Wm9hMjdJek5HQ2dvZjcrL3ZOMGRkZllXWEJ2Nys3MHFpaEFBQUFablJTVGxNQTNiOS9DMGtWZnhBdWdwMUFhRVIrZ0t2Y3ZOcENVcnFCd3RzSzc4Uzg4b1dBWExvWmtybWlpNFdBeXZXNmdJSGk5ZXFHRyt6bVpUL2VyTWpIN3ZmWDh0M2YzZlJsWWV6UUd0eHdnSUd1SEdKcm8yWHg5ZFgxNE4rSTlPRGwzL0xXelB1Ky9OY203TTdJQUFBTEprbEVRVlJvM3UyWFpYQmJWeGJIMjZSSmc4Mkd5dHh1bWJuZGRvdkx6TXd6a3Q4VE16MHhNMXBveVJiWmxrR1daTXNnazJ6TGJNdk1Na01jTzB3TnRNMitKTjNPN2t6VU5tbS83SXgrSStucGczVC81OXh6N2pubjNuQkRoZ3daTW1USWtDRkRodjhYTnUvYytlcldyMis1dTM2K2JkczlqK3k5ZDhOdHR6Mzk5RzBiTnR5N2QrOGpmOXoxWm5GLzdxOGZ1djhyNjJ5OS85SHRiK3k3ODJXY1JoUXJDalZ6cWpWR0RkakZiMFlpaTBRYURjNXNTMVo1Y3gvYTlGVWt0bXdYT3hoZ2lSS0hNeUxEVVlySUplS0RTbzJ4aEtsbU1vTThhbk8rMW01a01zZUtBOSs4Zm8xYjd4dXBGSXROOEpzY0xHRm95RUdOcUtoWlU5SllvdWJaeVVKOW50MGtpZ0pJRVNIczRqMTYwM1ZxYkRjTjloUjdEN2YwNDB4Nm5UcmZyU1NCSlVZK1ZpVEN4bUl4SkkrcE1QT2g2cTVtcFpHUFJPVzk5YXZyMnFvM0FwYjYrcUcyN3FGSWZqR3h3cVkzajZtVnVHbzg2SGZ4c1h3T1k2UXJ4T0tObVlWZG9OZ3N0SXVNN3V1SS8rWjlnOGNMV2hmUEgxcjBhTXVMcXhJeWNRMkx6Tkt5bUR3N3M3RlM1aGF5OG96dEp5d0YyZ2l0c25VMExtWlYzblBOR2p2K1ZIc3N0Mk82dTYzN2dNeVR0Q1ZTUkZPbFhtanlFaU9TdW9pd1lLYUtxSVpxbk1UV1F5c0JPODR5VUZ0dURzaXVOY2QyQkM2MjFTNGVtWnFhNm0xWlNkUlhET1NXMm16RldtMVZxVmJySkpvcVZyeWxZRlRvVGd6bHJ2WjVSS25PdGtTOHZ1THVhd2orNW8xdi84V3oxTm5VT3ptOTFOWjB3R0pwWFZrZGI2bFBlc3RMM1luQm5tVFNUYXl3cEdSWXFtMDB3YmVLSXJJRzcrbTVKWXVudHVMK0w2L3hscFJkT2RYV01qNTNxRzlndFhab3RiWjJxS1dsejVKSUZCU2tFcU1yZ3d1ZW5vcUJ4WDQ1bUdwemk5VFZYVHl4Ym5MeTlQam9VRnZ5NFMrdFVpNzBOdlVlNlozcVh1cGVIRzg2MXRIUjBsSnJhWVVkeWswVmVPTHVpZ3FQSnhsZlVJZUNuYjJsVkQ1TEsxRXI1N0xPVG5VMkhTZCtxVFA1OEtzUGIzM3MyN1hkSGJEbHVhbVZ3UXJQUW84MzdwYkpaT1dsY0VoMHVueVRYbExEdzFXREpCcU8yVGtlUTdBSlVsOVE1aDFjcVBKVTljZ3F2amlOTisvNmRxclVSSFRMdEhValpyTlpLQlJLSkpKSUpOSXVOTGV6N0V3N2o0bkRkN240ZmdZSHhPT1pZbGEvRFkwMkYrdUl4VVNocERKZlo3UEYzZTkva2NZdDk5VVIxVXlKMkI3azhYaE1Idk1TNmtzdisxaWpCby9EYWZ5dUxoQm41L0ZZa2t1TG1pcHJJc0VhMjNxbE1NSWtrNE5rTVZuS3FpTS85cmtLano2aUxPRXhxaDBhSXdpQ0hCakdGV2dnU09QelFZNUxKUEtEamNwcVRwQkZocWtSczlyRlpFbU5Sb092WVFHb0VmT0licDFmNDB4ZTNKSmVZK2ZZbUI4SjhrVjhrYWo1VTVCSTVPV25xQmtwSXNHMS9kSlhhaFFsVXFzWkhFMUpUWDYvTFo4bEVZc2pwb2t6TmUwSGU3d0hlMmJPbktzNm5qNzJXNTNhRXp6UVVZTEg0NDBncDRzUGx5YytDVjRkQzFORXBZWjl2bEJSTTcrTFJ0WjZlOGgrdktZeGlNUEpUczVPVE16UFQwdzQ1MmNPeng2MkRQV3RIcDZZNlB4N1dsZitwUXZZNGpaZHdLbHp5a3BMNDE2dExabE1lcjN4Y25kNXFiTi9wTDQxTjVGb2JVMTVQYm1KVkIwRHB4WnpRaFJLVDF2RnpNQ2h4YzdwNmFucDdxWE94YVhsY1F1Uzg5QmQ2VEszdmxTSmRDbkYzR0RFSDhJN2hJTUxiaEkzR3l0dEptR3BEWXdZWGxZcUt5OTN5NXc2WmxDZnpXWFZtSEEra2pFY2JabnNITWd0OEFaMFFydmFTRUxLazFrc0JPS0J0TTBKSytabEcybDRFcStkaHJUbnU4dmo5UktjM1lnRmNmNmliQWVXakN2Q2svWDVldk9JVWcwT2w2d1RoVlFYTjhhUlI4N21RNHFvWEM2SElEb3FTa2M3UEJDVi92Wkw2YnFURDJlVVVtbTRabVEyVm9IRjExNHNpUHVicFhRcVYwb1BaVk94ZnJpN040QitEbzJHcDhYczYrZE9hTGg1Q0FTYVJ2QTM1MGxEUGwrWW9xQW9DSVJ3VEVBQkROSmJyNjV4MHdlSUhBckpaV2NabGNLZ3NWMVNGM2M2c29Wa0JrNWlaK0NERG82eDBhRjBOTUpKd1dnUTBOZFB6SytMcUdXRkNJU1ZSS2ZtaFdFRkJRRkZRTkdqaW5CSWprQUlOcWJ4NUIyUE1peVBEa01RSm9lTnpqR3dxUW9DeEFZZ2RBNkF3UWh5Q2dVQ05NQ0dBZEFFenZ6c21abDJLWlZMSXdrUTFKQXZyRkNnVUhSNmxFQ1BXZ213Tnczc3NqUkIyZnBPVTl0UWo3T1ltQytVaU1sa080N0RvSEZvTGs1SjQ2V1Q2ZWZ5UVJ4Wk1wSmZIS2cvTk5tZG0rcHhJYmtFdEtxUlBrd2xYSkdJUXBBQVlBdkNLcEpSbGZQanE0dThPZWFzYUp2dW5KcHM2enN5TnpmZU5OMDVmdXhZUjFQdWltVjBwc3A5cG1kdHJTY3VjeGJyNnN6dFluUEE0dlRGa0dlR2VBUlN6QmRGMFNFTVVGakdqdWFKd0RBa2RjeDJzWis5dXNpM0VKRENNYnFhU2lVdm5sMmVQSklZVGZWTkxpOS8yTkVDZDhicHVhVytnbEpiUDVGWWJDc3ZHRGgyb0xWRlNLRmxIOGlheFNsb1ZLQXNCd281aUI1TFMrZlUxSUV1eU5oWFo3ajk2aUozSUFBTVFKQ0dDZlNDN21OdG5VMldqc1hsNWVXelRXUzkxcmt3ZWpEU2lFZXE0QnhTK1dKS2Q4dlpibGNSQWxId2NlT1lnMG9KbFZzT0xDNk9IK2hZN2V2b21KTUJwSmwrd1FQcFJBemhxTnhxdGNJZkNnVUY2UUx4alV5eW5veENLUlNLY0RnczlYZWhnQndBTFFBUTBaSWVJa3JsSkdwWE5TUzlWSlZxRzAwazZ1UGVnb0w2K2lRUjM2RC9aSjM3NE5WRjd0R2FzSVdJTWtNT0cyQVhua0o4aGdDRHdjaWg0YkEwcGxFWFdkRm9OS2JRTUFaU0JicXNwV3c5SmJRbVVVRW9XVndXNk5leE9FVUt1bS9ZUE50KzhJUDlWeGZaNERkTEtTQjEyQ29nb0F3R1E5bW5Pa0RaNVVkT2pwd3FxbGtSRTN3aExFMWRvdkg1anA1Y0I4SHNjK2ZYSURwTjNPQ3pXaFZTckFzMEduMUd6NFVMLzNncFhlRDlWb0tTMFpCOUJSS3BnY3ZsSXBFMGtqU1Vwd3FSa0RFS1h6L0NMK0tEYXIxT0ZKSzd6cCtzVWZJbVpzNnZxYmhVSDVia290Rm9EZkMvc0NvS2ErYmt2V25tb2cxbE5EYWk4SXI1aFlVR0FCQmdJRHFkVGlBUVZDcUNDc3R0bGx2bGhUNmtDc01HeXVRaHVwSTRvVys5UUR6M0NaR0VKVFUwa0xoVWxSWCtiUjZFSnRXc0hkNmJSdVMzaFNHcWlvNHVMQ3Y3cjRCOEJnQUFjclFjelJxb3JQUG5vS0VRSUd0dGxxekU1UWJiYWdNQmZkbTJRalM4cXdJMG0zUndiWDU3dWlKc29KckVUQ1dlUWNzbWNaR3hJbW1lVHdVWHBHR3JWUzRRWUdBaktRbzZST2R3U1Q0QnBPSVNlSDJzYlAwSmh1RGcwU0o1cUZvWUdLeGRXcTYwd3NlQVhYUnl2djFIYVpzdm1vcmsrbzE0Qmp3dVZEdUNQRENiQVdleFE0bFR3b1d4dXJvYWo4Y3hvREswQUlJMzBJY2hMUVZNRStkbXpMTmErbHpXZjFoRnlPV0FiNTVJMnBHMi9mNFV6aUc0QUtKeTJKQ3JrU0x3TWJoWXFvOWdsV01FQU1DR014c05DQWpTWWJoeERLTWd1WCtCZUdpV2NESTFvK1I4cHBGMXV0Q0FRV053T2s3NlFlSTFCRnNoS0R6RjlTTzFSQ2tDc2ZUUmg1UEx2WE5MeHpwV0xRbDRhZ3dVQjVLL2V4NE8yS1drR01hQ2F4K0RpUGFqRXhSV1IyMXRYOHZ4QTAzajB4K3BFZkJKb3hoZS9Kekw3ZDBJd3pBYXlNa1RpVEFJUkgzVy8vTFJoOHU5dmI5NStZVVhYbm5xRkNDUUs1UW5qNVlabExOa1NDa09zdTY4YzkrK1BYdjJQTGZuaHpmQzNQRjVZOWZyQmFkZ1E5QTU4SUVIY2krdmUzcTV0N090bzdaMWROQ1RoS2VKWW1kRi9jTGQzMzllSUpjUFMvVUhZK1FMWS9TL3ZYanovaDljdzMzazlheHB2QUhlajFNSWcrbmlLRHdEZTkzd21FTFU1ZGRWd3RUbDY3VEVmcHV6OUxrbkVXaUJ3SWQwNkNwTGZOYjkxM2pwMmJSOHV0ZmlDZFJGeUN3eXFjRlBvekU0UmlQZTBhakVxWG04SUprVmtaaE5kZHIraGU4OUNjZEY0TU0yeHlEZ3dXdSt2djFpOSs3ZHY5ejkrei8vOWYzMzN2dkR1Ky8rRTI1VHBRRmI4U1ZmNmt3bXZSbWV2WVhtRVgzL2ZUYyt4UVlFOUZEZUs5ZXVBVjkydDJ5NTZXZWJObTI2NVpaYlh0dXhZK2RqdTNidDJyWnQyOGFORzc4QmMvTVZubmppOGNlLys1MW5iMy9tbWR0L3N2K0dEQmt5Wk1pUUlVT0dEQmt5WlBoNitEZUNMNFptUWE3R1BRQUFBQUJKUlU1RXJrSmdnZz09XCJcclxuXHJcblxyXG5leHBvcnQgY29uc3Qgd2FycmFudHlTZXJ2aWNlID0gbmV3IFdhcnJhbnR5U2VydmljZSgpOyJdfQ==